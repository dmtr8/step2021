<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Common Gateway Interface</title>
</head>
<body>
<!--
CGI (общий шлюзовый интерфейс) обозначает набор соглашений, которые должны соблюдаться web-сервером при выполнении
ими различных web-приложений. В настоящий момент используется более быстрый и безопасный вариант интерфейса FastCGI

Традиционно программы, работающие в соответствии с соглашениями CGI, называют сценариями, или скриптами - скорее всего
из-за того, что в большинстве случаев их пишут на языках интерпретаторах.

В URL может существовать еще строка parameters, следующая после ?. В некоторой степени она аналогична командной строке ОС.
Это строка и передается CGI-сценарию. Параметры сценариев принято указывать в виде      переменная=значение.
Параметры разделяются с помощью &

Способ посылки параметров сценарию, когда данные помещаются в командную строку URL, называется методом GET.
Фактически, даже если не передается никаких параметров (например, при загрузке статистической страницы), все равно
применяется метод GET.

                            ЗАГОЛОВКИ ЗАПРОСА И МЕТОД GET

Браузер анализирует строку, выделяет из нее имя сервера и порт (а так же имя протокола), устонавливает соединение с
web-сервером по адресу сервер:порт и посылает ему что-то типа :
    GET somestring HTTP/1.0\n
    ...другая информация...
    \n\n
\n - перевод строки
\n\n - два обязательных символа новой строки, которые являются маркером окончания запроса(окончания заголовков запроса)
Без этого маркера сервер не будет обрабатывать запрос.

после GET-строки могут следовать и другие строки с информацией, разделенные символом \n. Их обычно формирует браузер.
Такие строки называются заголовками (headers). Протокол HTTP задает правила формирования и интерпретации этих заголовков.

Не все заголовки обрабатываются сервером - некоторые пересылаются запускаемому сценарию с помощью переменных
окружения. Переменные окружения - именованные значения параметров, которые опер.система( точнее, процесс-родитель)
передает запущенной программе. Программа с помощью спец. функций может получить значение любой установленной
переменной окружения, указав ее имя. Именно так и должен поступать CGI-сценарий,когда захочет узнат значение заголовка запроса.
Набор передоваемых сценарию переменных окр., ограничен стандартами, и некоторые заголовки нельзя получить из сценария
никаким способом.

    Некоторые заголовки запросов :

-- GET - является обязательным, если только не применялся метод POST. Определяет адрес запрашиваемого документа
на сервере. Также задаются параметры, которые пересылаются сценарию (если сценарию ничего не передается, то все
символы после знака ? и сам знак опускаются. Вместо строки HTTP/1.0 может быть указан и другой протокол - например
HTTP/1.1. Именно его соглашения и будут учитываться сервером при обработке данных, поступивших от пользователя,и др.,заголовков.

Строка "сценарий?параметры" задаются в том же формате, в котором она входит в URL.
URI (Universal Resource Identifier), универсальный идентификатор ресурса).
Часто смешивают с понятием URL. URL -полный пусть к некоторой web-стр., URI - его часть , расположенная после имени
(или IP-адреса) хоста и номера порта.

        http://localhost:8082/CGI.php?name=DIMA
 переменные окружения : REQUEST_URI  (/CGI.php)
                        QUERY_STRING (name=DIMA) -- в этой переменной значение "параметры"
                        REQUEST_METHOD (GET)

-- Content-Type
Идентифицирует тип передаваемых данных. Обычно для этого указывается значение application/x-www-form-urlencoded,
определяющие формат, в котором все управляющие символы(отличные от алфавитно-цифровых и др., отображаемых)
спец.,образом кодируются. Это тот самых формат передачи, который используется методами GET и POST.
Распространен и др.,формат : multipart/form-data.
Сервер никак не интерпретирует рассматриваемый заголовок, а просто передает его сценарию через пер.окр

--HOST
В соответствии и протоколом HTTP 1.1 на каждом узле может располагаться сразу несколько хостов.(Узел имеет отдельный IP-aдрес,
и типична ситуация, когда разыне доменные имена соответствуют одному и тому же IP-aдресу). Поэтому должен
существовать способ, с помощью которого браузер сможет сообщить серверу, к какому хосту он собирается обращаться.
Host предназначен для этой цели. В нем браузер указывает то же самое имя хоста, которое ввел пользователь в адр.,строке.
    В настоящий момент доступ к большинству сайтов можно получить только по протоколу HTTP 1.1(но не 1.0),
    а значит указание заголовка Host - обязательно.

Пер.окр HTTP_HOST часто путают с SERVER_NAME. В большинстве случаев серверы конфигурируют так, что обе переменные
содержат одинаковое значение. Бывают ситуации, когда это не так.
Величина HTTP_HOST всегда идентична тому доменному имени,которое ввел пользователь в браузере,
в то время как SERVER_NAME иногда может содержать строку ,жестко записанную в конфигурации сервера.
    Важное отличие: SERVER_NAME никогда не включает номер порта, к которому подключился браузер(обычно 80) ,
в то время как HTTP_HOST содержит значение вида "хост:порт", когда порт отличен от 80.
лучше использовать HTTP_HOST, но в случае ,если она не установлена (например, используется HTTP 1.0, где
данный заголовок не поддерживается), подставлять вместо нее SERVER_NAME

    http://localhost:8082/CGI.php?name=DIMA
            HTTP_HOST  - localhost:8082
            SERVER_NAME - localhost

--USER-AGENT
Через этот заголовок клиен сообщает серверу сведения о себе (версия браузера, ос)

--Content-length
содержит строку, являющуюся десятичным представление длины данных в байтах, передаваемых методом POST.
Если задействуется метод GET , то этот заголовок отсутствует и пер.окр, отсутствует.

--Referer
содержит URL страницы , с которой осуществился переход на текущую страницу по гирессылке.

--Сookie
хранятся куки в URL-кодировке

--Accept
В этом заголовке браузер перечисляет, какие документы он "понимает". Перечисление через запятую.
*/* - любой тип.

    Метод POST
Метод нужен в основном для того, чтобы передавать большие объемы данных.Например, при загрузке файлов через Web
или при обработке больших форм. + при применении метода GET URL сценария становится длинным и неизящным,
POST-запрос оставляет URL без изменения.

Если не задать атрибут method в теге <form> вообще, то по умолчанию подразумевается метод GET















-->

</body>
</html>