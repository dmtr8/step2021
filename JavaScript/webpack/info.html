<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Сборка</title>
</head>
<body>
<!--
уст.nodejs (lts)
наличие (npm -v)
(yarn как альтернатива)

____________________________________________________________________________

---Основы настройки Webpack

Для начала установим webpack, делается это с помощью команд:

yarn add webpack webpack-cli -D, если используете менеджер пакетов yarn
npm i webpack webpack-cli --save-dev, для менеджера пакетов npm

Настраивается Webpack с помощью конфигурационного файла webpack.config.js,
 который хранится в корневой директории проекта.

Пример конфигурационного файла:

const path = require('path')
module.exports = {
   watch: true,
   entry: "./src/index.js",
   output: {
       filename: "bundle.js",
       path: path.resolve(__dirname,'build'),
       publicPath: "/"
   }
};

Начальная конфигурация представляет собой следующее:

watch — заставляет webpack отслеживать изменения в файлах и заново выполнять сборку;
entry — Указывает на точку входа в проект, и откуда нужно начать построение графа внутренних зависимостей проекта;
output — Указывает путь, где будет располагаться создаваемый файл и как он будет называться;

Так же необходимо установить webpack-dev-server, который понадобится для разработки и отладки приложения.

yarn add webpack-dev-server для менеджера пакетов yarn или
npm i webpack-dev-server если используется npm

Для настройки webpack-dev-server добавим devServer в нашем конфигурационном файле.

Параметры для webpack-dev-server:

module.exports = {
    //...
    devServer: {
        port: 8000,
        historyApiFallback: true,
        hot: true,
    },
};

Также нам нужно добавить/заменить в нашем package.json файле скрипт запуска проекта:

"start": "webpack-dev-server --mode development",

и скрипт для сборки билда:

"build": "webpack --mode production"

_______________________________________________________________________________

Установка :

- mkdir webpack-tutorial (любое название)
- cd !$ или cd webpack-tutorial (переход в папку)
- yarn init -yp  или npm init -y (создает стандартный приватный файл "package.json")

Устанавливаем webpack и webpack-cli в качестве зависимостей для разработки:

yarn add -D webpack webpack-cli
// или
npm i -D webpack webpack-cli

webpack — сборщик модулей и ресурсов
webpack-cli — интерфейс командной строки для вебпака

Базовая настройка :

 Создаем файл «webpack.config.js» в корневой директории проекта.

 --Прежде всего, необходимо определить точку входа приложения, т.е. то, какие файлы вебпак будет компилировать.
 В приведенном примере мы определяем точку входа как «src/index.js»:

const path = require('path')

module.exports = {
    entry: {
        main: path.resolve(__dirname, './src/index.js'),
    },
}

 --Точка выхода
Точка выхода — это директория, в которую помещаются скомпилированные вебпаком файлы.
Установим точку выхода как «dist». Префикс "[name]" соответствует названию файла в src:

module.exports = {
    // ...

    output: {
        path: path.resolve(__dirname, './dist'),
        filename: '[name].bundle.js',
    },
}

Минимальная настройка для сборки проекта готова.
Добавляем скрипт «build» в файл «package.json», запускающий команду «webpack»:

// package.json
"scripts": {
    "build": "webpack"
}

В директории «dist» создается файл «index.bundle.js».
Файл не изменился, но мы успешно осуществили сборку проекта.
-->

</body>
</html>